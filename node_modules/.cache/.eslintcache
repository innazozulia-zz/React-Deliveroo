[{"/Users/inna/Documents/Project/front/React/project/my-app/src/index.js":"1","/Users/inna/Documents/Project/front/React/project/my-app/src/App.js":"2","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Header.jsx":"3","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Categories.jsx":"4","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Sort.jsx":"5","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/FoodBlock.jsx":"6","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/LoadingFoodBlock.jsx":"7","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Home.jsx":"8","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/NotFound.jsx":"9","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/NotFoundBlock.jsx":"10","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Cart.jsx":"11","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Search.jsx":"12","/Users/inna/Documents/Project/front/React/project/my-app/src/pagination/Pagination.jsx":"13","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/store.js":"14","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/filterSlice.js":"15","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/cartSlice.js":"16","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/CartItem.jsx":"17","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/EmptyCart.jsx":"18","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/foodSlice.js":"19","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Error.jsx":"20"},{"size":458,"mtime":1654351979089,"results":"21","hashOfConfig":"22"},{"size":939,"mtime":1654970077414,"results":"23","hashOfConfig":"22"},{"size":2688,"mtime":1654961754679,"results":"24","hashOfConfig":"22"},{"size":774,"mtime":1654540654815,"results":"25","hashOfConfig":"22"},{"size":2778,"mtime":1654692456221,"results":"26","hashOfConfig":"22"},{"size":2171,"mtime":1654694708239,"results":"27","hashOfConfig":"22"},{"size":677,"mtime":1654597543409,"results":"28","hashOfConfig":"22"},{"size":3955,"mtime":1654970089828,"results":"29","hashOfConfig":"22"},{"size":166,"mtime":1653934184984,"results":"30","hashOfConfig":"22"},{"size":279,"mtime":1653934724389,"results":"31","hashOfConfig":"22"},{"size":5415,"mtime":1654694281401,"results":"32","hashOfConfig":"22"},{"size":2393,"mtime":1654970104836,"results":"33","hashOfConfig":"22"},{"size":520,"mtime":1654540465795,"results":"34","hashOfConfig":"22"},{"size":265,"mtime":1654875724777,"results":"35","hashOfConfig":"22"},{"size":1032,"mtime":1654970184198,"results":"36","hashOfConfig":"22"},{"size":1092,"mtime":1654961615368,"results":"37","hashOfConfig":"22"},{"size":4167,"mtime":1654694748946,"results":"38","hashOfConfig":"22"},{"size":458,"mtime":1654706277737,"results":"39","hashOfConfig":"22"},{"size":1203,"mtime":1654968568966,"results":"40","hashOfConfig":"22"},{"size":258,"mtime":1654881973771,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},"w02u5s",{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"49"},{"filePath":"69","messages":"70","suppressedMessages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"81","messages":"82","suppressedMessages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"84","messages":"85","suppressedMessages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"87"},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"45"},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},"/Users/inna/Documents/Project/front/React/project/my-app/src/index.js",[],[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/App.js",[],[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Header.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Categories.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Sort.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/FoodBlock.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/LoadingFoodBlock.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Home.jsx",["106","107","108"],[],"import React from \"react\";\n\nimport qs from \"qs\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport Sort, { sortList } from \"../Components/Sort\";\nimport Error from \"../Components/Error\";\nimport Categories from \"../Components/Categories\";\nimport FoodBlock from \"../Components/FoodItems/FoodBlock\";\nimport LoadingFoodBlog from \"../Components/FoodItems/LoadingFoodBlock\";\nimport Pagination from \"../pagination/Pagination\";\nimport { AppContext } from \"../App\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  setCategory,\n  setCurrentPage,\n  setFilters,\n} from \"../redux/slices/filterSlice\";\nimport { fetchItems } from \"../redux/slices/foodSlice\";\n\nconst Home = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const category = useSelector((state) => state.filter.category);\n  const sort = useSelector((state) => state.filter.sort.sortProperty);\n  const currentPage = useSelector((state) => state.filter.currentPage);\n\n  // const { category, sort, currentPage } = useSelector(selectFilter);\n  const { items, status } = useSelector((state) => state.food);\n\n  const { searchValue } = React.useContext(AppContext);\n  const isMounted = React.useRef(false);\n  // const [isLoading, setIsLoading] = React.useState(true);\n  // const [items, setItems] = React.useState([]);\n  // const isSearch = React.useRef(false);\n  // const [currentPage, setCurrentPage] = React.useState(1);  переписали с помошью redux\n  // const [category, setCategory] = React.useState(0);  переписали с помошью redux\n  // const [sort, setSort] = React.useState({  переписали с помошью redux\n  //   name: \"popular\",\n  //   sortProperty: \"rating\",\n  // });\n\n  const onClickCategory = (id) => {\n    dispatch(setCategory(id));\n  };\n  const onChangePage = (number) => {\n    dispatch(setCurrentPage(number));\n  };\n\n  const getItems = async () => {\n    const sortBy = sort;\n    const order = sort;\n    const search = searchValue ? `search=${searchValue}` : \"\";\n    dispatch(\n      fetchItems({\n        sortBy,\n        order,\n        search,\n        category,\n        currentPage,\n      })\n    );\n  };\n\n  React.useEffect(() => {\n    if (window.location.search) {\n      const params = qs.parse(window.location.search.substring(1));\n      const sort = sortList.find(\n        (obj) => obj.sortProperty === params.sortProperty\n      );\n      if (sort) {\n        params.sort = sort;\n      }\n      dispatch(setFilters(params, sort));\n    }\n    // isSearch.current = true;\n  }, []);\n\n  React.useEffect(() => {\n    // window.scrollTo(0, 0);\n    // if (!isSearch.current) {\n    getItems();\n    // }\n    // isSearch.current = false;\n  }, [category, sort, searchValue, currentPage]);\n\n  React.useEffect(() => {\n    if (isMounted.current) {\n      const queryString = qs.stringify({\n        sortProperty: sort,\n        category,\n        currentPage,\n      });\n      navigate(`?${queryString}`);\n    }\n    isMounted.current = true;\n  }, [category, sort, currentPage]);\n\n  const skeletons = [...new Array(6)].map((_, index) => (\n    <LoadingFoodBlog key={index} />\n  ));\n  const itemsList = items.map((obj) => (\n    <FoodBlock\n      key={obj.id}\n      id={obj.id}\n      title={obj.title}\n      price={obj.price}\n      imageUrl={obj.imageUrl}\n      sizes={obj.sizes}\n      types={obj.types}\n      raiting={obj.raiting}\n    />\n  ));\n\n  return (\n    <div className=\"container\">\n      <div className=\"content__top\">\n        <Categories category={category} onClickCategory={onClickCategory} />\n        <Sort />\n      </div>\n      <h2 className=\"content__title\">All food</h2>\n      {status === \"error\" ? (\n        <Error />\n      ) : (\n        <div className=\"content__items\">\n          {status === \"loading\" ? skeletons : itemsList}\n        </div>\n      )}\n      <Pagination\n        currentPage={currentPage}\n        onChangePage={(number) => onChangePage(number)}\n      />\n    </div>\n  );\n};\nexport default Home;\n","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/NotFound.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/NotFoundBlock.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Cart.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Search.jsx",["109"],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/pagination/Pagination.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/store.js",[],[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/filterSlice.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/cartSlice.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/CartItem.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/EmptyCart.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/foodSlice.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Error.jsx",[],[],{"ruleId":"110","severity":1,"message":"111","line":78,"column":6,"nodeType":"112","endLine":78,"endColumn":8,"suggestions":"113"},{"ruleId":"110","severity":1,"message":"114","line":86,"column":6,"nodeType":"112","endLine":86,"endColumn":48,"suggestions":"115"},{"ruleId":"110","severity":1,"message":"116","line":98,"column":6,"nodeType":"112","endLine":98,"endColumn":35,"suggestions":"117"},{"ruleId":"110","severity":1,"message":"118","line":17,"column":24,"nodeType":"119","endLine":17,"endColumn":41},"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["120"],"React Hook React.useEffect has a missing dependency: 'getItems'. Either include it or remove the dependency array.",["121"],"React Hook React.useEffect has a missing dependency: 'navigate'. Either include it or remove the dependency array.",["122"],"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","MemberExpression",{"desc":"123","fix":"124"},{"desc":"125","fix":"126"},{"desc":"127","fix":"128"},"Update the dependencies array to be: [dispatch]",{"range":"129","text":"130"},"Update the dependencies array to be: [category, sort, searchValue, currentPage, getItems]",{"range":"131","text":"132"},"Update the dependencies array to be: [category, sort, currentPage, navigate]",{"range":"133","text":"134"},[2478,2480],"[dispatch]",[2635,2677],"[category, sort, searchValue, currentPage, getItems]",[2930,2959],"[category, sort, currentPage, navigate]"]