[{"/Users/inna/Documents/Project/front/React/project/my-app/src/index.js":"1","/Users/inna/Documents/Project/front/React/project/my-app/src/App.js":"2","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Header.jsx":"3","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Categories.jsx":"4","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Sort.jsx":"5","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/FoodBlock.jsx":"6","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/LoadingFoodBlock.jsx":"7","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Home.jsx":"8","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/NotFound.jsx":"9","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/NotFoundBlock.jsx":"10","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Cart.jsx":"11","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Search.jsx":"12","/Users/inna/Documents/Project/front/React/project/my-app/src/pagination/Pagination.jsx":"13","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/store.js":"14","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/filterSlice.js":"15","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/cartSlice.js":"16","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/CartItem.jsx":"17","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/EmptyCart.jsx":"18"},{"size":458,"mtime":1654351979089,"results":"19","hashOfConfig":"20"},{"size":939,"mtime":1654540612506,"results":"21","hashOfConfig":"20"},{"size":2517,"mtime":1654684241118,"results":"22","hashOfConfig":"20"},{"size":774,"mtime":1654540654815,"results":"23","hashOfConfig":"20"},{"size":2778,"mtime":1654692456221,"results":"24","hashOfConfig":"20"},{"size":2171,"mtime":1654694708239,"results":"25","hashOfConfig":"20"},{"size":677,"mtime":1654597543409,"results":"26","hashOfConfig":"20"},{"size":3925,"mtime":1654708364589,"results":"27","hashOfConfig":"20"},{"size":166,"mtime":1653934184984,"results":"28","hashOfConfig":"20"},{"size":279,"mtime":1653934724389,"results":"29","hashOfConfig":"20"},{"size":5415,"mtime":1654694281401,"results":"30","hashOfConfig":"20"},{"size":2393,"mtime":1654706260209,"results":"31","hashOfConfig":"20"},{"size":520,"mtime":1654540465795,"results":"32","hashOfConfig":"20"},{"size":216,"mtime":1654680880348,"results":"33","hashOfConfig":"20"},{"size":888,"mtime":1654696033909,"results":"34","hashOfConfig":"20"},{"size":1042,"mtime":1654692171153,"results":"35","hashOfConfig":"20"},{"size":4167,"mtime":1654694748946,"results":"36","hashOfConfig":"20"},{"size":458,"mtime":1654706277737,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"w02u5s",{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63"},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"41"},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},"/Users/inna/Documents/Project/front/React/project/my-app/src/index.js",[],[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/App.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Header.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Categories.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Sort.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/FoodBlock.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/LoadingFoodBlock.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Home.jsx",["95","96","97"],[],"import React from \"react\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport Sort, { sortList } from \"../Components/Sort\";\nimport Categories from \"../Components/Categories\";\nimport FoodBlock from \"../Components/FoodItems/FoodBlock\";\nimport LoadingFoodBlog from \"../Components/FoodItems/LoadingFoodBlock\";\nimport Pagination from \"../pagination/Pagination\";\nimport { AppContext } from \"../App\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  setCategory,\n  setCurrentPage,\n  setFilters,\n} from \"../redux/slices/filterSlice\";\n\nconst Home = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const category = useSelector((state) => state.filter.category);\n  const sort = useSelector((state) => state.filter.sort.sortProperty);\n  const currentPage = useSelector((state) => state.filter.currentPage);\n\n  const { searchValue } = React.useContext(AppContext);\n\n  const [items, setItems] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  // const isSearch = React.useRef(false);\n  // const isMounted = React.useRef(false);\n\n  // const [currentPage, setCurrentPage] = React.useState(1);  переписали с помошью redux\n  // const [category, setCategory] = React.useState(0);  переписали с помошью redux\n  // const [sort, setSort] = React.useState({  переписали с помошью redux\n  //   name: \"popular\",\n  //   sortProperty: \"rating\",\n  // });\n\n  const onClickCategory = (id) => {\n    dispatch(setCategory(id));\n  };\n  const onChangePage = (number) => {\n    dispatch(setCurrentPage(number));\n  };\n\n  const fetchItems = () => {\n    setIsLoading(true);\n    const sortBy = sort;\n    const order = sort;\n    const search = searchValue ? `search=${searchValue}` : \"\";\n    axios\n      .get(\n        `https://6293b734089f87a57ac4de66.mockapi.io/items?page=${currentPage}&limit=6&${\n          category > 0 ? `category=${category}` : \"\"\n        }${search}&sortBy=${sortBy}&order=${order}\n      }`\n      )\n      .then((res) => {\n        setItems(res.data);\n        setIsLoading(false);\n      });\n  };\n\n  React.useEffect(() => {\n    if (window.location.search) {\n      const params = qs.parse(window.location.search.substring(1));\n      const sort = sortList.find(\n        (obj) => obj.sortProperty === params.sortProperty\n      );\n      if (sort) {\n        params.sort = sort;\n      }\n      dispatch(setFilters(params, sort));\n    }\n    // isSearch.current = true;\n  }, []);\n\n  React.useEffect(() => {\n    // window.scrollTo(0, 0);\n    // if (!isSearch.current) {\n    fetchItems();\n    // }\n    // isSearch.current = false;\n  }, [category, sort, searchValue, currentPage]);\n\n  React.useEffect(() => {\n    // if (isMounted.current) {\n    const queryString = qs.stringify({\n      sortProperty: sort,\n      category,\n      currentPage,\n    });\n    navigate(`?${queryString}`);\n    // }\n    // isMounted.current = true;\n  }, [category, sort, currentPage]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"content__top\">\n        <Categories category={category} onClickCategory={onClickCategory} />\n        <Sort />\n      </div>\n      <h2 className=\"content__title\">All food</h2>\n      <div className=\"content__items\">\n        {isLoading\n          ? [...new Array(6)].map((_, index) => <LoadingFoodBlog key={index} />)\n          : items.map((obj) => (\n              <FoodBlock\n                key={obj.id}\n                id={obj.id}\n                title={obj.title}\n                price={obj.price}\n                imageUrl={obj.imageUrl}\n                sizes={obj.sizes}\n                types={obj.types}\n                raiting={obj.raiting}\n              />\n            ))}\n      </div>\n      <Pagination\n        currentPage={currentPage}\n        onChangePage={(number) => onChangePage(number)}\n      />\n    </div>\n  );\n};\nexport default Home;\n","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/NotFound.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/NotFoundBlock.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Cart.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Search.jsx",["98"],[],"import React from \"react\";\nimport debounce from \"lodash.debounce\";\n\nimport { AppContext } from \"../App\";\n\nfunction Search() {\n  const [valueInSearch, setValueInSearch] = React.useState(\"\");\n  const { searchValue, setSearchValue } = React.useContext(AppContext); // переписали с помошью redux\n  const inputRef = React.useRef();\n\n  const onClickClear = () => {\n    setValueInSearch(\"\");\n    inputRef.current.focus();\n  };\n\n  console.log(searchValue);\n  const updateSearch = React.useCallback(\n    debounce((str) => {\n      setSearchValue(str);\n    }, 1000),\n    []\n  );\n\n  const onChangeInput = (event) => {\n    setValueInSearch(event.target.value);\n    updateSearch(event.target.value);\n  };\n\n  return (\n    <div className=\"root\">\n      <div className=\"icon\">\n        <svg\n          enableBackground=\"new 0 0 32 32\"\n          version=\"1.1\"\n          viewBox=\"0 0 32 32\"\n          width=\"18\"\n          height=\"18\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M27.414,24.586l-5.077-5.077C23.386,17.928,24,16.035,24,14c0-5.514-4.486-10-10-10S4,8.486,4,14  s4.486,10,10,10c2.035,0,3.928-0.614,5.509-1.663l5.077,5.077c0.78,0.781,2.048,0.781,2.828,0  C28.195,26.633,28.195,25.367,27.414,24.586z M7,14c0-3.86,3.14-7,7-7s7,3.14,7,7s-3.14,7-7,7S7,17.86,7,14z\"\n            id=\"XMLID_223_\"\n          />\n        </svg>\n\n        <input\n          ref={inputRef}\n          value={valueInSearch}\n          onChange={onChangeInput}\n          className=\"input\"\n          placeholder=\"Search ...\"\n        ></input>\n\n        {valueInSearch && (\n          <svg\n            onClick={() => onClickClear()}\n            className=\"close\"\n            width=\"24px\"\n            height=\"24px\"\n            viewBox=\"0 0 24 24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <g data-name=\"Layer 2\">\n              <g data-name=\"close\">\n                <rect\n                  width=\"24\"\n                  height=\"24\"\n                  transform=\"rotate(180 12 12)\"\n                  opacity=\"0\"\n                />\n                <path d=\"M13.41 12l4.3-4.29a1 1 0 1 0-1.42-1.42L12 10.59l-4.29-4.3a1 1 0 0 0-1.42 1.42l4.3 4.29-4.3 4.29a1 1 0 0 0 0 1.42 1 1 0 0 0 1.42 0l4.29-4.3 4.29 4.3a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42z\" />\n              </g>\n            </g>\n          </svg>\n        )}\n      </div>\n    </div>\n  );\n}\nexport default Search;\n","/Users/inna/Documents/Project/front/React/project/my-app/src/pagination/Pagination.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/store.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/filterSlice.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/cartSlice.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/CartItem.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/EmptyCart.jsx",[],[],{"ruleId":"99","severity":1,"message":"100","line":79,"column":6,"nodeType":"101","endLine":79,"endColumn":8,"suggestions":"102"},{"ruleId":"99","severity":1,"message":"103","line":87,"column":6,"nodeType":"101","endLine":87,"endColumn":48,"suggestions":"104"},{"ruleId":"99","severity":1,"message":"105","line":99,"column":6,"nodeType":"101","endLine":99,"endColumn":35,"suggestions":"106"},{"ruleId":"99","severity":1,"message":"107","line":17,"column":24,"nodeType":"108","endLine":17,"endColumn":41},"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["109"],"React Hook React.useEffect has a missing dependency: 'fetchItems'. Either include it or remove the dependency array.",["110"],"React Hook React.useEffect has a missing dependency: 'navigate'. Either include it or remove the dependency array.",["111"],"React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","MemberExpression",{"desc":"112","fix":"113"},{"desc":"114","fix":"115"},{"desc":"116","fix":"117"},"Update the dependencies array to be: [dispatch]",{"range":"118","text":"119"},"Update the dependencies array to be: [category, sort, searchValue, currentPage, fetchItems]",{"range":"120","text":"121"},"Update the dependencies array to be: [category, sort, currentPage, navigate]",{"range":"122","text":"123"},[2478,2480],"[dispatch]",[2637,2679],"[category, sort, searchValue, currentPage, fetchItems]",[2929,2958],"[category, sort, currentPage, navigate]"]