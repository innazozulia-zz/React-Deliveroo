[{"/Users/inna/Documents/Project/front/React/project/my-app/src/index.js":"1","/Users/inna/Documents/Project/front/React/project/my-app/src/App.js":"2","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Header.jsx":"3","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Categories.jsx":"4","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Sort.jsx":"5","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/FoodBlock.jsx":"6","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/LoadingFoodBlock.jsx":"7","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Home.jsx":"8","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/NotFound.jsx":"9","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/NotFoundBlock.jsx":"10","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Cart.jsx":"11","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Search.jsx":"12","/Users/inna/Documents/Project/front/React/project/my-app/src/pagination/Pagination.jsx":"13","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/store.js":"14","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/filterSlice.js":"15","/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/cartSlice.js":"16"},{"size":458,"mtime":1654351979089,"results":"17","hashOfConfig":"18"},{"size":939,"mtime":1654540612506,"results":"19","hashOfConfig":"18"},{"size":2448,"mtime":1654623610341,"results":"20","hashOfConfig":"18"},{"size":774,"mtime":1654540654815,"results":"21","hashOfConfig":"18"},{"size":2817,"mtime":1654620708227,"results":"22","hashOfConfig":"18"},{"size":1978,"mtime":1654624693636,"results":"23","hashOfConfig":"18"},{"size":677,"mtime":1654597543409,"results":"24","hashOfConfig":"18"},{"size":4059,"mtime":1654623865273,"results":"25","hashOfConfig":"18"},{"size":166,"mtime":1653934184984,"results":"26","hashOfConfig":"18"},{"size":279,"mtime":1653934724389,"results":"27","hashOfConfig":"18"},{"size":19470,"mtime":1654621035962,"results":"28","hashOfConfig":"18"},{"size":2365,"mtime":1654540676543,"results":"29","hashOfConfig":"18"},{"size":520,"mtime":1654540465795,"results":"30","hashOfConfig":"18"},{"size":258,"mtime":1654624537793,"results":"31","hashOfConfig":"18"},{"size":845,"mtime":1654607123740,"results":"32","hashOfConfig":"18"},{"size":542,"mtime":1654624496035,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","suppressedMessages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},"w02u5s",{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60","usedDeprecatedRules":"37"},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"37"},"/Users/inna/Documents/Project/front/React/project/my-app/src/index.js",[],[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/App.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Header.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Categories.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Sort.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/FoodBlock.jsx",["87"],[],"import React from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport { addItem } from \"../../redux/slices/cartSlice.js\";\n\nfunction FoodBlock({ id, title, price, imageUrl, sizes, types, raiting }) {\n  const dispatch = useDispatch();\n  const [activeSize, setActiveSize] = React.useState(0);\n  const [activeType, setActiveType] = React.useState(0);\n\n  const onClickAdd = () => {\n    const item = {\n      id,\n      title,\n      price,\n      imageUrl,\n      type: activeType,\n      size: activeSize,\n    };\n    dispatch(addItem(item));\n  };\n\n  const typeNames = [\"portion\", \"cake\"];\n\n  const onClickSize = (index) => {\n    setActiveSize(index);\n  };\n  const onClickType = (index) => {\n    setActiveType(index);\n  };\n\n  return (\n    <div className=\"food__block\">\n      <div className=\"block\">\n        <img width={250} height={150} src={imageUrl} alt=\"food\" />\n        <h4 className=\"block__title\">{title}</h4>\n        <div className=\"block__selector\">\n          <ul>\n            {types.map((type, index) => (\n              <li\n                key={index}\n                onClick={() => onClickType(index)}\n                className={activeType === index ? \"active\" : \"\"}\n              >\n                {typeNames[type]}\n              </li>\n            ))}\n          </ul>\n          <ul>\n            {sizes.map((size, index) => (\n              <li\n                key={index}\n                onClick={() => onClickSize(index)}\n                className={activeSize === index ? \"active\" : \"\"}\n              >\n                {size} g\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div className=\"block__add\">\n          <div className=\"block__price\">from {price} $</div>\n          <button\n            onClick={onClickAdd}\n            className=\"button button--outline button--ad\"\n          >\n            <span>ADD</span>\n            <i>0</i>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default FoodBlock;\n","/Users/inna/Documents/Project/front/React/project/my-app/src/Components/FoodItems/LoadingFoodBlock.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Home.jsx",["88","89"],[],"import React from \"react\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport Sort, { sortList } from \"../Components/Sort\";\nimport Categories from \"../Components/Categories\";\nimport FoodBlock from \"../Components/FoodItems/FoodBlock\";\nimport LoadingFoodBlog from \"../Components/FoodItems/LoadingFoodBlock\";\nimport Pagination from \"../pagination/Pagination\";\nimport { AppContext } from \"../App\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport {\n  setCategory,\n  setCurrentPage,\n  setFilters,\n} from \"../redux/slices/filterSlice\";\n\nconst Home = () => {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const isMounted = React.useRef(false);\n  const category = useSelector((state) => state.filter.category);\n  const sort = useSelector((state) => state.filter.sort.sortProperty);\n  const currentPage = useSelector((state) => state.filter.currentPage);\n  const { searchValue } = React.useContext(AppContext);\n  const [items, setItems] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(true);\n  // const [currentPage, setCurrentPage] = React.useState(1);  переписали с помошью redux\n  // const [category, setCategory] = React.useState(0);  переписали с помошью redux\n  // const [sort, setSort] = React.useState({  переписали с помошью redux\n  //   name: \"popular\",\n  //   sortProperty: \"rating\",\n  // });\n\n  const onClickCategory = (id) => {\n    dispatch(setCategory(id));\n  };\n  const onChangePage = (number) => {\n    dispatch(setCurrentPage(number));\n  };\n\n  React.useEffect(() => {\n    if (isMounted.current) {\n      setIsLoading(true);\n\n      const sortBy = sort;\n      // const sortBy = sort.sortProperty.replace(\"-\", \" \");\n      const order = sort;\n      // const order = sort.sortProperty.includes(\"-\") ? \"asc\" : \"desc\";\n      const search = searchValue ? `search=${searchValue}` : \"\";\n\n      axios\n        .get(\n          `https://6293b734089f87a57ac4de66.mockapi.io/items?page=${currentPage}&limit=6&${\n            category > 0 ? `category=${category}` : \"\"\n          }${search}&sortBy=${sortBy}&order=${order}\n      }`\n        )\n        .then((res) => {\n          setItems(res.data);\n          setIsLoading(false);\n        });\n      window.scrollTo(0, 0);\n    }\n  }, [category, sort, searchValue, currentPage]);\n\n  React.useEffect(() => {\n    if ((isMounted.current = true)) {\n      const params = {\n        category: category > 0 ? category : null,\n        // sortProperty: sort.sortProperty,\n        sortProperty: sort,\n        currentPage,\n      };\n      const queryString = qs.stringify(params, { skipNulls: true });\n      navigate(`/?${queryString}`);\n    }\n  }, [category, sort, searchValue, currentPage]);\n\n  React.useEffect(() => {\n    if (window.location.search) {\n      const params = qs.parse(window.location.search.substring(1));\n      const sort = sortList.find(\n        (obj) => obj.sortProperty === params.sortProperty\n      );\n      if (sort) {\n        params.sort = sort;\n      }\n      dispatch(setFilters(params));\n    }\n    isMounted.current = true;\n  }, []);\n\n  return (\n    <div className=\"container\">\n      <div className=\"content__top\">\n        <Categories category={category} onClickCategory={onClickCategory} />\n        <Sort />\n      </div>\n      <h2 className=\"content__title\">All food</h2>\n      <div className=\"content__items\">\n        {isLoading\n          ? [...new Array(6)].map((_, index) => <LoadingFoodBlog key={index} />)\n          : items.map((obj) => (\n              <FoodBlock\n                key={obj.id}\n                id={obj.id}\n                title={obj.title}\n                price={obj.price}\n                imageUrl={obj.imageUrl}\n                sizes={obj.sizes}\n                types={obj.types}\n                raiting={obj.raiting}\n              />\n            ))}\n      </div>\n      <Pagination\n        currentPage={currentPage}\n        onChangePage={(number) => onChangePage(number)}\n      />\n    </div>\n  );\n};\nexport default Home;\n","/Users/inna/Documents/Project/front/React/project/my-app/src/pages/NotFound.jsx",[],[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/NotFoundBlock.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/pages/Cart.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/Components/Search.jsx",["90","91"],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/pagination/Pagination.jsx",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/store.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/filterSlice.js",[],[],"/Users/inna/Documents/Project/front/React/project/my-app/src/redux/slices/cartSlice.js",["92"],[],"import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  totalPrice: 0,\n  items: [],\n};\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState,\n  reducer: {\n    addItem(state, action) {\n      state.items.push(action.payload);\n    },\n    removeItem(state, action) {\n      state.items = state.items.filter((obj) => obj.id != action.payload);\n    },\n    clearItems(state) {\n      state.items = [];\n    },\n  },\n});\n\nexport const { addItem, removeItem, clearItems } = cartSlice.actions;\n\nexport default cartSlice.reducer;\n",{"ruleId":"93","severity":1,"message":"94","line":3,"column":23,"nodeType":"95","messageId":"96","endLine":3,"endColumn":34},{"ruleId":"97","severity":1,"message":"98","line":79,"column":6,"nodeType":"99","endLine":79,"endColumn":48,"suggestions":"100"},{"ruleId":"97","severity":1,"message":"101","line":93,"column":6,"nodeType":"99","endLine":93,"endColumn":8,"suggestions":"102"},{"ruleId":"93","severity":1,"message":"103","line":8,"column":11,"nodeType":"95","messageId":"96","endLine":8,"endColumn":22},{"ruleId":"97","severity":1,"message":"104","line":16,"column":24,"nodeType":"105","endLine":16,"endColumn":41},{"ruleId":"106","severity":1,"message":"107","line":15,"column":56,"nodeType":"108","messageId":"109","endLine":15,"endColumn":58},"no-unused-vars","'useSelector' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'navigate'. Either include it or remove the dependency array.","ArrayExpression",["110"],"React Hook React.useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["111"],"'searchValue' is assigned a value but never used.","React Hook useCallback received a function whose dependencies are unknown. Pass an inline function instead.","MemberExpression","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected",{"desc":"112","fix":"113"},{"desc":"114","fix":"115"},"Update the dependencies array to be: [category, sort, searchValue, currentPage, navigate]",{"range":"116","text":"117"},"Update the dependencies array to be: [dispatch]",{"range":"118","text":"119"},[2684,2726],"[category, sort, searchValue, currentPage, navigate]",[3090,3092],"[dispatch]"]